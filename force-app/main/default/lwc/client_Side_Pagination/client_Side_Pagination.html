<template>
    <div style="height:95vh; background: white">
        <div if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </div>

        <lightning-combobox class="options"
        name="objects"
        label="Select Objects"
        placeholder="Select Object"
        options={objectList}
        value={selectedObject}
        onchange={handleObjectChange}>
    </lightning-combobox>
    
    <lightning-button class="Reset" disabled={disableResetButton} variant="destructive" label="Reset" title="Destructive action" onclick={resetButton}></lightning-button>
    <template if:true={showFields}>
    <lightning-dual-listbox name="languages"
        class="dualBoxC"
        label="Select Fields"
        source-label="Available"
        selected-label="Selected"
        field-level-help="Select Fields"            
        options={fieldsList}
        value={values}
        onchange={handleFieldsChange}></lightning-dual-listbox>
           
            <lightning-button  class="ProcessRec" variant="destructive" label="Process Records" disabled={disableProcessBtn} onclick={fetchRecords} ></lightning-button>
     </template>
            <template lwc:if={showBoolean}>
                <div class = "child">
                    <div class="slds-box slds-theme--default">
                        <div class="slds-text-color_inverse slds-text-heading_large" style="padding:0.2rem;background:#16325c">        
                            {selectedObject}
                        </div>
                        </div>
                        <div class="slds-box slds-theme_default">
                            <div class = "slds-scrollable_y" style="height: 200px;"> 
                                <div class="slds-text-longform">
                                    <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                <thead >
                    <tr class="slds-line-height_reset">
                        <th>
                            <div class="slds-checkbox">
                                <input type="checkbox" name="options" id="master" value="checkbox-unique-id-81"/>
                                <label class="slds-checkbox__label" for="checkbox-unique-id-81">
                                <span class="slds-checkbox_faux"></span>
                                </label>
                            </div>
                        </th>
                        <template for:each={columns} for:item="col">
                            <th key={col.id} aria-label="Account Name" aria-sort="none" class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                <a data-name={col.fieldName} data-title={col.sortDirection} onclick={onSort} class="slds-th__action slds-text-link_reset" role="button" tabindex="0">
                                    <span class="slds-assistive-text">Sort by: </span>
                                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                        <span class="slds-truncate" title="Account Name"> {col.label} </span>
                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                            </svg>
                                        </span>
                                    </div>
                                </a>
                                <div class="slds-resizable">
                                    <input type="range" aria-label="Account Name column width" class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-541" max="1000" min="20" tabindex="0" />
                                    <span class="slds-resizable__handle">
                                    <span class="slds-resizable__divider"></span>
                                    </span>
                                </div>
                            </th>
                        </template>
                    </tr>
                </thead>
                <template for:each={displayRecords} for:item="rec">
                    <tr key={rec.Id} >
                        <th>
                            <div class="slds-checkbox">
                                <input type="checkbox" name="options" id={rec.Id}/>
                                <label class="slds-checkbox__label" for="checkbox-unique-id-82">
                                <span class="slds-checkbox_faux"></span>
                                </label>
                            </div>
                        </th>
                    <template for:each={columns} for:item="col">
                        <td key={rec.Id} class="slds-cell_action-mode" role="gridcell">
                            <c-child-Client-Side-Pagination record={rec} fieldname={col.fieldName}></c-child-Client-Side-Pagination>
                            </td>
                    </template>
                    </tr>
                </template>
            </table>
            </div>
            </div>
            </div>
</div>
            <br/>
            <br/>
           
                <div style="float:left; margin-top:700px;">
                    <lightning-combobox
                        name="object"
                        variant="label-hidden"
                        disabled={disableCombobox}
                        value={recordSize}
                        placeholder="Record Size"
                        options={getRecordSizeList}
                        onchange={handleRecordSizeChange} ></lightning-combobox>
                </div>
                <div style="text-align:right ; float:right; margin-top:700px;">
                        {recordViewMessage}
                </div>
                <div style="float:center; margin-left:550px; margin-top:669px;">
                    <lightning-button variant="brand" label="First" disabled={prevButtonBoolean} class="slds-m-top_medium" onclick={handleNavigation} ></lightning-button> &nbsp;
                    <template for:each={pageNoList} for:item="page">
                        <lightning-button key={page.label} variant={page.label} label={page.label} disabled={page.disabled} class="slds-m-top_medium" onclick={handleNavigation} ></lightning-button>
                    </template>
                    <lightning-button variant="brand" label="Last" disabled={nextButtonBoolean} class="slds-m-top_medium" onclick={handleNavigation} ></lightning-button>
                </div>
            </template>
           </div>       
</template>