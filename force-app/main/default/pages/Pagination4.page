<apex:page sidebar="false" controller="pagination4">
    <apex:form >
        <apex:pageBlock id="account_list" title="Accounts List" >
            <apex:pageBlockSection >
                <apex:selectList value="{!FilterId}" size="1" >
                    filter: <apex:selectOptions value="{!Options}" />
                    <apex:actionSupport action="{!Filter}" event="onchange"
                                        status="pageStatus" rerender="account_list"/>
                </apex:selectList>
                <apex:outputPanel >
                    <apex:actionStatus id="pageStatus">
                        <apex:facet name="start" >
                            <img src="/img/loading.gif" />
                            
                        </apex:facet>
                    </apex:actionStatus>
                </apex:outputPanel>
            </apex:pageBlockSection>
            <apex:pageBlockSection columns="1">
                <apex:pageBlockTable value="{!AccountRecords}" var="acc">
                    <apex:column >
                        <apex:inputField value="{!acc.Name}"/>
                    </apex:column>
                    <apex:column >
                        <apex:inputField value="{!acc.Industry}"/>
                    </apex:column>
                    <apex:column >
                        <apex:inputField value="{!acc.Rating}"/>
                    </apex:column>
                    <apex:column >
                        <apex:inputField value="{!acc.Id}"/>
                    </apex:column>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
            <table width="100%">
                <tr>
                    <td align="left">
                        <apex:outputLabel value="Page: {!PageNumber} of
                                                 {!TotalPages} "/>
                    </td>
                    <td align="center">
                        <apex:commandButton action="{!std.first}" value="First"
                                            reRender="account_list"/>
                        <apex:commandButton action="{!std.previous}"
                                            value="Previous"  reRender="account_list"/>
                        <apex:commandButton action="{!std.next}" value="Next"
                                            reRender="account_list"/>
                        <apex:commandButton action="{!std.last}" value="Last"
                                            reRender="account_list"/>
                    </td>
                    <td align="right">
                        <apex:SelectList value="{!pageSize}" size="1">
                            record page: <apex:selectOptions value="{!PageSizeOptionList}" />
                            <apex:actionSupport event="onchange"
                                                reRender="account_list" status="pageStatus"/>
                        </apex:SelectList>
                    </td>
                </tr>
            </table>
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!customSave}"/>
                <apex:commandButton value="Quick Save"
                                    action="{!customQuickSave}"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
</apex:page>